<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>奇偶数概率游戏</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <h1>奇偶数概率游戏</h1>
        <div class="game-description">
            <h3>游戏规则</h3>
            <p>这是一个关于概率的游戏。设置奇数球和偶数球的数量，然后随机抽取两个球。两球相加为偶数则获胜。通过多次游戏，观察实际概率与理论概率的对比。</p>
        </div>
        <div class="controls">
            <div class="input-row">
                <div class="input-group">
                    <label>偶数球数量：</label>
                    <input type="number" id="evenCount" min="0" value="0">
                </div>
                <div class="input-group">
                    <label>奇数球数量：</label>
                    <input type="number" id="oddCount" min="0" value="0">
                </div>
            </div>
            <div class="speed-control">
                <label>游戏速度：</label>
                <input type="range" id="gameSpeed" min="1" max="10" value="5">
                <div id="speedValue">5</div>
            </div>
            <div class="btn-group">
                <button onclick="generateBalls()" class="btn-success">生成球</button>
                <button onclick="playGame()" class="btn-primary">开始游戏</button>
                <button id="autoPlayBtn" onclick="toggleAutoPlay()" class="btn-info auto-play">自动进行100次</button>
                <button onclick="resetGame()" class="btn-warning">重置</button>
            </div>
        </div>
        <div class="ball-container" id="ballContainer"></div>
        <div class="draw-animation" id="drawAnimation" style="display: none;">
            <div class="ball-selection">
                <span id="animBall1" class="ball-animation"></span>
                <span class="plus-sign">+</span>
                <span id="animBall2" class="ball-animation"></span>
                <span class="equals-sign">=</span>
                <span id="animResult" class="result-number"></span>
            </div>
        </div>
        <div class="stats">
            <h3>统计信息</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <h4>奇数球数量</h4>
                    <p id="currentOddCount">0</p>
                </div>
                <div class="stat-card">
                    <h4>偶数球数量</h4>
                    <p id="currentEvenCount">0</p>
                </div>
                <div class="stat-card">
                    <h4>总游戏次数</h4>
                    <p id="totalGames">0</p>
                </div>
                <div class="stat-card">
                    <h4>获胜概率</h4>
                    <p id="winProbability">0%</p>
                </div>
            </div>
            <div class="game-result" id="gameResultDisplay" style="display: none;">
                <div class="result-text" id="gameResult"></div>
            </div>
            <div id="probabilityComparison" style="display: none;">
                <h4 style="margin-top: 20px; color: var(--secondary-color);">概率对比</h4>
                <table class="probability-table">
                    <thead>
                        <tr>
                            <th>组合类型</th>
                            <th>理论概率</th>
                            <th>实际概率</th>
                            <th>差异</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>两个偶数球</td>
                            <td id="theoreticalEvenEven">0%</td>
                            <td id="actualEvenEven">0%</td>
                            <td id="diffEvenEven">0%</td>
                        </tr>
                        <tr>
                            <td>一奇一偶</td>
                            <td id="theoreticalEvenOdd">0%</td>
                            <td id="actualEvenOdd">0%</td>
                            <td id="diffEvenOdd">0%</td>
                        </tr>
                        <tr>
                            <td>两个奇数球</td>
                            <td id="theoreticalOddOdd">0%</td>
                            <td id="actualOddOdd">0%</td>
                            <td id="diffOddOdd">0%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="probabilityChart"></canvas>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>